<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="/image/ukraine.png" rel="icon">
    <title>ITUA</title>
    <!-- Import Google Font -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&display=swap" rel="stylesheet" />
    <link href="/styles.css" rel="stylesheet" />
</head>
<body>
<div class="container home-container">
    <div class="lang-switcher">
        <button type="button" class="lang-btn" id="lang-en">EN</button>
        <button type="button" class="lang-btn" id="lang-uk">UA</button>
    </div>
    <div class="header">
        <div class="logo-row">
            <img src="/image/logo.png" alt="logo" class="header-logo">
            <img src="/image/artline_logo.png" alt="artline-logo" class="header-logo header-logo-artline">
        </div>
        <h1 id="title">Main Menu</h1>
    </div>
    <div class="content">
        <ul class="menu">
            <li><a href="/status.php" id="link-status">Status</a></li>
            <li><a href="/tools_list.php" id="link-tools">Tools</a></li>
            <li><a href="/autostart.php" id="link-autostart">Autostart</a></li>
            <li><a href="/update.php" id="link-update">Update</a></li>
        </ul>
    </div>
</div>
<script>
    const translations = {
        en: {
            title: "Main Menu",
            status: "Status",
            tools: "Tools",
            update: "Update",
            autostart: "Autostart",
            footerSlogan: "Together to freedom"
        },
        uk: {
            title: "Головне меню",
            status: "Статус",
            tools: "Інструменти",
            update: "Оновлення",
            autostart: "Автостарт",
            footerSlogan: "Разом до свободи"
        }    };

    const langEnBtn = document.getElementById("lang-en");
    const langUkBtn = document.getElementById("lang-uk");
    const titleEl = document.getElementById("title");
    const statusEl = document.getElementById("link-status");
    const toolsEl = document.getElementById("link-tools");
    const updateEl = document.getElementById("link-update");
    const autostartEl = document.getElementById("link-autostart");
    function getCookie(name) {
        const parts = document.cookie.split("; ").find((row) => row.startsWith(name + "="));
        return parts ? decodeURIComponent(parts.split("=")[1]) : null;
    }

    function updateLinks(lang) {
        statusEl.href = "/status.php?lang=" + encodeURIComponent(lang);
        toolsEl.href = "/tools_list.php?lang=" + encodeURIComponent(lang);
        updateEl.href = "/update.php?lang=" + encodeURIComponent(lang);
        autostartEl.href = "/autostart.php?lang=" + encodeURIComponent(lang);
    }

    function applyLang(lang) {
        const activeLang = (lang === "uk" || lang === "en") ? lang : "en";
        const text = translations[activeLang];
        titleEl.textContent = text.title;
        statusEl.textContent = text.status;
        toolsEl.textContent = text.tools;
        updateEl.textContent = text.update;
        autostartEl.textContent = text.autostart;
        const footerSloganEl = document.getElementById("footer-slogan");
        if (footerSloganEl) {
            footerSloganEl.textContent = text.footerSlogan;
        }
        langEnBtn.classList.toggle("active", activeLang === "en");
        langUkBtn.classList.toggle("active", activeLang === "uk");
        updateLinks(activeLang);
    }

    function setLang(lang) {
        document.cookie = "lang=" + encodeURIComponent(lang) + "; path=/; max-age=31536000";
        applyLang(lang);
    }

    const params = new URLSearchParams(window.location.search);
    const initialLang = params.get("lang") || getCookie("lang") || "en";
    applyLang(initialLang);

    langEnBtn.addEventListener("click", () => setLang("en"));
    langUkBtn.addEventListener("click", () => setLang("uk"));
</script>
<footer class="app-footer">&copy; 2022-<span id="copyright-year"></span> IT Army of Ukraine. <span id="footer-slogan">Together to freedom</span>.</footer>
<script>
    document.getElementById("copyright-year").textContent = String(new Date().getFullYear());
</script>
</body>
</html>

